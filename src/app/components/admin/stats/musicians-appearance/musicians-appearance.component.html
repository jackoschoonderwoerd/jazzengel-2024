<div class="appearance-app">
    <div class="controls">
        <mat-form-field>
            <mat-label>enter query</mat-label>
            <input (keyup)="onInputChange($event)"
                [(ngModel)]="queryValue"
                type="text"
                matInput>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Select name</mat-label>
            <mat-select (selectionChange)="onNameSelected($event)">
                <mat-option [value]="''">clear selection
                </mat-option>
                @for (name of names; track name) {
                <mat-option [value]="name">{{name}}</mat-option>
                }
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-label>Select instrument</mat-label>
            <mat-select (selectionChange)="onInstrumentSelected($event)">
                <mat-option [value]="''">clear selection
                </mat-option>
                @for (instrument of instruments; track instrument) {
                <mat-option [value]="instrument">{{instrument}}</mat-option>
                }
            </mat-select>
        </mat-form-field>
        <button mat-raised-button
            (click)="onToggleBdBS()">{{BdBSHidden ?'show':'hide'}}&nbsp; B dB S</button>
    </div>

    <table mat-table
        [dataSource]="dataSource"
        matSort
        class="mat-elevation-z8"
        matSortActive="date"
        matSortDirection="desc">

        <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

        <!-- Position Column -->
        <ng-container matColumnDef="name">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header> Name </th>
            <td mat-cell
                class="name-cell"
                *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <ng-container matColumnDef="instrument">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header>Instrument</th>
            <td mat-cell
                class="name-cell"
                *matCellDef="let element"> {{element.instrument}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="date">
            <th mat-header-cell
                *matHeaderCellDef
                mat-sort-header> Date </th>
            <td mat-cell
                *matCellDef="let element"> {{element.date|date}} </td>
        </ng-container>



        <tr mat-header-row
            *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>


</div>
